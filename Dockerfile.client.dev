# Development React client
FROM node:20-alpine

# Set working directory
WORKDIR /app

# Copy package files
COPY client/package*.json ./

# Get version from VERSION file and set as environment variable for Vite
ARG VERSION
ENV VITE_APP_VERSION=$VERSION

# Install dependencies
RUN npm install --legacy-peer-deps

# Copy client source code (development needs all files)
COPY client/ ./

# Expose port
EXPOSE 3000

# Start development server
CMD ["npm", "start"]